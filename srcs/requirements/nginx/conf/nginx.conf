daemon off;

events {}

http {
	#Redirect traffic from port 80 to port 443
	server {
		listen 80;
		listen [::]:80;
		server_name gcorreia.42.rio;
		return 301 https://$host$request_uri;
	}
	server {
		listen 443 ssl; #IPv4
		listen [::]:443 ssl; #IPv6

		server_name gcorreia.42.rio;

		ssl_certificate /etc/ssl/certs/nginx-selfsigned.crt;
		ssl_certificate_key /etc/ssl/private/nginx-selfsigned.key;
		ssl_protocols TLSv1.3 TLSv1.2;

		root /data/www; # Where to look for files

		#location / {} # Sets where to look in given directories
	}
}
